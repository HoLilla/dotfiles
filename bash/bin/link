#!/usr/bin/env bash

set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" >/dev/null && pwd)"

FILENAME="bashrc"
CONFIG_PATH="$HOME/.config/bash"

mkdir -p "$CONFIG_PATH"
mkdir -p "$HOME/Library/Caches/"
mkdir -p "$HOME/.local/share"
mkdir -p "$HOME/Library/Caches/run"

rm -rf "$HOME/.bashrc"
echo "source $HOME/.config/bash/bashrc" >"$HOME/.bashrc"

rm -f "$CONFIG_PATH/$FILENAME"
ln -s "$SCRIPT_DIR/../$FILENAME" "$CONFIG_PATH/$FILENAME"
