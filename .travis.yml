os: osx
language: minimal

env:
- TARGET=setup-home	
- TARGET=setup-work
- TARGET=lint
- TARGET=show-help

cache:
  directories:
    - /Users/travis/Library/Caches/Homebrew
    - /usr/local/Caskroom
    - /usr/local/Cellar
    - /usr/local/Frameworks
    - /usr/local/Homebrew

before_script:
  - brew remove swiftlint
  - sed -i '' '/steam/d' ./brew/Brewfile
  - sed -i '' '/virtualbox/d' ./brew/Brewfile

script:
  - make -j "$(sysctl -n hw.ncpu)" "$TARGET"
